<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>κ΄€λ¦¬μ λ€μ‹λ³΄λ“</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="/css/dashboard.css" />
  </head>
  <body>
      <header>
        <h1>Chakak κ΄€λ¦¬μ λ€μ‹λ³΄λ“</h1>
        <div class="btn-group">
          <a th:href="@{/}" class="btn">ν™μΌλ΅</a>
          <a th:href="@{/notice/list}" class="btn">κ³µμ§€μ‚¬ν•­ κ΄€λ¦¬</a>
          <a th:href="@{/admin/users}" class="btn">νμ› κ΄€λ¦¬</a>
        </div>
      </header>

      <div class="main-container">
        <section>
          <div class="section-title">πμ λ³΄ ν†µκ³„ μ”μ•½</div>
          <div class="dashboard-grid">
            <div class="card">
              <h3>μ¤‘λ³µ μ λ³΄ μ°¨λ‰ Top 10</h3>
              <table>
                <tr><th>μμ„</th><th>μ°¨λ‰ λ²νΈ</th><th>μ λ³΄ νμ</th></tr>
                <tr th:each="v, stat : ${topVehicles}">
                  <td th:text="${stat.index + 1}">1</td>
                  <td th:text="${v.vehicleNumber}">12κ°€1234</td>
                  <td th:text="${v.count}">3</td>
                </tr>
              </table>
            </div>

            <div class="card">
              <h3>μ λ³΄ μ ν• λ¶„ν¬</h3>
              <table>
                <tr><th>μ ν•</th><th>μ λ³΄ μ</th></tr>
                <tr th:each="t : ${typeStats}">
                  <td th:text="${t.violationType}">μμ „κ±°λ„λ΅</td>
                  <td th:text="${t.count}">5</td>
                </tr>
              </table>
            </div>

            <div class="card">
              <h3>λ°λ³µ μ λ³΄ μ§€μ—­ Top 10</h3>
              <table>
                <tr><th>μμ„</th><th>μ£Όμ†</th><th>μ λ³΄ μ</th></tr>
                <tr th:each="a, stat : ${locationStats}">
                  <td th:text="${stat.index + 1}">1</td>
                  <td th:text="${a.location}">μ„μΈμ‹ κ°•λ‚¨κµ¬</td>
                  <td th:text="${a.count}">7</td>
                </tr>
              </table>
            </div>
          </div>
        </section>

        <section>
          <div class="section-title">π—Ίμ§€μ—­λ³„ μ λ³΄ ν΄λ¬μ¤ν„°λ§ μ§€λ„</div>
          <div id="map" class="map-wrapper"></div>
        </section>

		<section>
		       <div class="section-title">π¦ μ λ³΄ μ ν•λ³„ ν•„ν„°</div>
		       <label for="violationType">μ‹ κ³  μ ν• μ„ νƒ:</label>
		       <select id="violationType" name="violationType">
		         <option value="" selected>μ„ νƒ</option>
		         <option th:each="type : ${violationTypeList}" th:value="${type.name}" th:text="${type.label}"></option>
		       </select>

		       <div class="card" style="margin-top: 1rem">
		         <table id="reportTable">
		           <thead>
		             <tr>
		               <th>μ‹ κ³  λ²νΈ</th>
		               <th>μ λ©</th>
		               <th>μ„λ° μ ν•</th>
		               <th>μ„λ° μ§€μ—­</th>
		               <th>μ„λ° μΌμ</th>
		             </tr>
		           </thead>
		           <tbody>
		             <!-- JSλ΅ λ λ”λ§ -->
		           </tbody>
		         </table>
		       </div>
		     </section>
		 </div>
	  
	  <!-- ν‘Έν„° -->
	  <footer class="footer">
	      <p>&copy; 2025 Chakak. All rights reserved.</p>
	  </footer>
	  <script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=978b749ade2fb05402a450e0de2bc2a6&autoload=true&libraries=services,clusterer"></script>
	  <script src="/js/admin-dashboard.js"></script>
    </body>
  </html>