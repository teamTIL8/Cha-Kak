<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>신고 목록</title>
    <link rel="stylesheet" th:href="@{/css/style.css}"> <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1 { color: #333; }
        .report-list { list-style: none; padding: 0; }
        .report-list li { background-color: #f9f9f9; margin-bottom: 10px; padding: 15px; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .report-list li a { text-decoration: none; color: #007bff; font-weight: bold; }
        .report-list li a:hover { text-decoration: underline; }
        .pagination { margin-top: 20px; text-align: center; }
        .pagination a { display: inline-block; padding: 8px 16px; margin: 0 5px; border: 1px solid #ddd; text-decoration: none; color: #333; border-radius: 5px; }
        .pagination a.active { background-color: #007bff; color: white; border: 1px solid #007bff; }
        .pagination a:hover:not(.active) { background-color: #ddd; }
        .search-form { margin-bottom: 20px; padding: 15px; background-color: #e9e9e9; border-radius: 5px; }
        .search-form input, .search-form select { margin-right: 10px; padding: 8px; border: 1px solid #ccc; border-radius: 4px; }
        .search-form button { padding: 8px 15px; background-color: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer; }
        .search-form button:hover { background-color: #218838; }
    </style>
</head>
<body>
    <h1>신고 목록</h1>

    <div class="search-form">
        <form th:action="@{/reports/list}" method="get">
            <input type="text" name="carNumber" placeholder="차량 번호" th:value="${carNumber}">
            <input type="text" name="location" placeholder="위치" th:value="${location}">
            <input type="date" name="reportDate" placeholder="신고 날짜" th:value="${reportDate}">
            <input type="text" name="violationType" placeholder="위반 유형" th:value="${violationType}">
            <input type="date" name="startDate" placeholder="시작 날짜" th:value="${startDate}">
            <input type="date" name="endDate" placeholder="종료 날짜" th:value="${endDate}">
            <input type="text" name="keyword" placeholder="키워드" th:value="${keyword}">
            <button type="submit">검색</button>
        </form>
    </div>

    <ul class="report-list">
        <li th:each="report : ${reportPage.content}">
            <a th:href="@{/reports/{id}(id=${report.reportId})}" th:text="${report.title}">신고 제목</a><br>
            차량 번호: <span th:text="${report.vehicleNumber}"></span><br>
            주소: <span th:text="${report.address}"></span><br>
            조회수: <span th:text="${report.viewCnt}"></span>
        </li>
    </ul>

    <div class="pagination">
        <a th:if="${reportPage.hasPrevious()}" th:href="@{/reports/list(page=${reportPage.number - 1}, carNumber=${carNumber}, location=${location}, reportDate=${reportDate}, violationType=${violationType}, startDate=${startDate}, endDate=${endDate}, keyword=${keyword})}">이전</a>
        <span th:each="i : ${#numbers.sequence(0, reportPage.totalPages - 1)}">
            <a th:classappend="${i == currentPage ? 'active' : ''}"
               th:href="@{/reports/list(page=${i}, carNumber=${carNumber}, location=${location}, reportDate=${reportDate}, violationType=${violationType}, startDate=${startDate}, endDate=${endDate}, keyword=${keyword})}"
               th:text="${i + 1}">1</a>
        </span>
        <a th:if="${reportPage.hasNext()}" th:href="@{/reports/list(page=${reportPage.number + 1}, carNumber=${carNumber}, location=${location}, reportDate=${reportDate}, violationType=${violationType}, startDate=${startDate}, endDate=${endDate}, keyword=${keyword})}">다음</a>
    </div>

</body>
</html>